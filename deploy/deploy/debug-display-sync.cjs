const { Pool } = require('pg');\n\n// æ•¸æ“šåº«é…ç½®\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL || 'postgresql://postgres:password@localhost:5432/bet_database',\n  ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false\n});\n\nasync function debugDisplaySync() {\n  console.log('ğŸ” é–‹å§‹èª¿è©¦é–‹ççµæœé¡¯ç¤ºåŒæ­¥å•é¡Œ...');\n  \n  try {\n    // 1. æŸ¥è©¢æ•¸æ“šåº«æœ€æ–°çµæœ\n    console.log('\\n1. æŸ¥è©¢æ•¸æ“šåº«æœ€æ–°é–‹ççµæœ:');\n    const dbResult = await pool.query(`\n      SELECT period, result, created_at \n      FROM result_history \n      ORDER BY created_at DESC \n      LIMIT 1\n    `);\n    \n    if (dbResult.rows.length > 0) {\n      const latest = dbResult.rows[0];\n      console.log(`   æœŸè™Ÿ: ${latest.period}`);\n      console.log(`   çµæœ: ${JSON.stringify(latest.result)}`);\n      console.log(`   æ™‚é–“: ${latest.created_at}`);\n      \n      // æª¢æŸ¥ç¬¬6åæ˜¯å¦ç‚º10è™Ÿ\n      const resultArray = Array.isArray(latest.result) ? latest.result : JSON.parse(latest.result);\n      console.log(`   ç¬¬6åè™Ÿç¢¼: ${resultArray[5]} ${resultArray[5] === 10 ? 'âœ… æ§åˆ¶ç”Ÿæ•ˆ!' : 'âŒ æ§åˆ¶å¤±æ•ˆ!'}`);  \n    } else {\n      console.log('   âŒ æ²’æœ‰æ‰¾åˆ°é–‹çè¨˜éŒ„');\n    }\n    \n    // 2. æª¢æŸ¥justin111çš„æœ€æ–°æ³¨å–®\n    console.log('\\n2. æª¢æŸ¥justin111çš„æœ€æ–°æ³¨å–®:');\n    const betResult = await pool.query(`\n      SELECT \n        period, bet_type, bet_value, position, amount, odds,\n        win, win_amount, settled, created_at\n      FROM bet_history \n      WHERE username = 'justin111' \n      ORDER BY created_at DESC \n      LIMIT 3\n    `);\n    \n    betResult.rows.forEach((bet, index) => {\n      console.log(`   æ³¨å–®${index + 1}: æœŸè™Ÿ=${bet.period}, é¡å‹=${bet.bet_type}, å€¼=${bet.bet_value}, ä½ç½®=${bet.position}`);\n      console.log(`           é‡‘é¡=${bet.amount}, è³ ç‡=${bet.odds}, ä¸­ç=${bet.win}, çé‡‘=${bet.win_amount}`);\n      console.log(`           å·²çµç®—=${bet.settled}, æ™‚é–“=${bet.created_at}`);\n    });\n    \n  } catch (error) {\n    console.error('âŒ èª¿è©¦éç¨‹å‡ºéŒ¯:', error);\n  } finally {\n    await pool.end();\n  }\n}\n\n// é‹è¡Œèª¿è©¦\ndebugDisplaySync(); 